<%# params: path, model %>
<main class="edit-photo">
    <%= form_with url: path, model: photo, local: true do |form| %>
        <h1>Edit photo</h1>
        <p class="field">
            <%= form.label :title, "Title", class: "form-label" %>
            <%= form.text_field :title, class: "form-control" %>
            <span class="error text-danger"></span>
        </p>
        <p class="field">
            <%= form.label :mode, "Sharing mode", class: "form-label" %>
            <div id="mode" class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <%= form.radio_button :mode, "public", class: "btn-check", id: "btnradio1", checked: true %>
                <%= form.label :mode, "Public", class: "btn btn-outline-primary", for: "btnradio1" %>
                
                <%= form.radio_button :mode, "private", class: "btn-check", id: "btnradio2" %>
                <%= form.label :mode, "Private", class: "btn btn-outline-primary", for: "btnradio2" %>
            </div>
            <span class="error text-danger"></span>
        </p>
        <p class="field">
            <%= form.label :description, "Description", class: "form-label" %>
            <%= form.text_area :description, class: "form-control", rows: 5 %>
            <span class="error text-danger"></span>
        </p>
        <p class="field">
            <%= form.label :medium, "Photo", class: "form-label" %>
            
            <%= form.fields_for :medium do |medium_form| %>
                <%= medium_form.file_field :url, class: "media-input form-control", accept: "image/*" %>
                <span class="error text-danger"></span>
            <% end %>
            <div id="preview">
                <img src="#" alt="Photo Preview">
            </div>
        </p>
        <%= form.submit "Save", id: "save", class: "btn btn-primary" %>
    <% end %>
</main>

<%= javascript_include_tag "edit_photo", type: "module" %>